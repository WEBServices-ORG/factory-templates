#!/usr/bin/env bash
set -euo pipefail

export PATH="$HOME/.local/share/mise/shims:$HOME/.local/bin:/opt/homebrew/bin:/usr/local/bin:$PATH"

echo "[factory] swiftformat"
swiftformat .

echo "[factory] swiftlint"
swiftlint lint --strict

echo "[factory] tests"
xcodebuild test -scheme {{PRODUCT_NAME}} -destination 'platform=macOS' -quiet

echo "[factory] âœ… passed"
